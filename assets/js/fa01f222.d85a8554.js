"use strict";(self.webpackChunkjiangmiemie=self.webpackChunkjiangmiemie||[]).push([[4429],{8344:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>o,contentTitle:()=>s,default:()=>p,frontMatter:()=>r,metadata:()=>a,toc:()=>c});var i=t(4848),d=t(8453);const r={sidebar_position:3,title:"\u6a21\u62df\u7b97\u6cd5\u5927\u8d5b\uff08\u8003\u6838\uff09"},s=void 0,a={id:"part1/\u9879\u76ee\u5b9e\u6218",title:"\u6a21\u62df\u7b97\u6cd5\u5927\u8d5b\uff08\u8003\u6838\uff09",description:"\u5b8c\u6210\u673a\u5668\u5b66\u4e60\u7684\u57fa\u7840\u5b66\u4e60\u4e4b\u540e\uff0c\u6211\u4eec\u901a\u5e38\u4f1a\u901a\u8fc7\u53c2\u52a0\u4e00\u4e9b\u7b97\u6cd5\u5927\u8d5b\u6765\u68c0\u9a8c\u81ea\u5df1\u7684\u5b66\u4e60\u6210\u679c\u3002",source:"@site/project/part1/\u9879\u76ee\u5b9e\u6218.md",sourceDirName:"part1",slug:"/part1/\u9879\u76ee\u5b9e\u6218",permalink:"/project/part1/\u9879\u76ee\u5b9e\u6218",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"\u6a21\u62df\u7b97\u6cd5\u5927\u8d5b\uff08\u8003\u6838\uff09"},sidebar:"tutorialSidebar",previous:{title:"\u56fe\u7247\u7684\u76f8\u4f3c\u6027\u6bd4\u8f83",permalink:"/project/part1/\u56fe\u7247\u7684\u76f8\u4f3c\u6027\u6bd4\u8f83"},next:{title:"\u9879\u76ee\u534f\u4f5c",permalink:"/project/part2/\u9879\u76ee\u534f\u4f5c"}},o={},c=[{value:"\u641c\u7d22\u6570\u636e\u96c6",id:"\u641c\u7d22\u6570\u636e\u96c6",level:2},{value:"\u89c2\u5bdf\u6570\u636e\u96c6",id:"\u89c2\u5bdf\u6570\u636e\u96c6",level:2},{value:"\u5904\u7406\u6570\u636e\u96c6",id:"\u5904\u7406\u6570\u636e\u96c6",level:2},{value:"\u8f66\u724c\u4e8c\u6b21\u5206\u5272\u4e0e\u4eba\u5de5\u6807\u6ce8",id:"\u8f66\u724c\u4e8c\u6b21\u5206\u5272\u4e0e\u4eba\u5de5\u6807\u6ce8",level:2},{value:"\u8bad\u7ec3\u6a21\u578b",id:"\u8bad\u7ec3\u6a21\u578b",level:2},{value:"\u6548\u679c\u5c55\u793a",id:"\u6548\u679c\u5c55\u793a",level:2}];function l(n){const e={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,d.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.p,{children:"\u5b8c\u6210\u673a\u5668\u5b66\u4e60\u7684\u57fa\u7840\u5b66\u4e60\u4e4b\u540e\uff0c\u6211\u4eec\u901a\u5e38\u4f1a\u901a\u8fc7\u53c2\u52a0\u4e00\u4e9b\u7b97\u6cd5\u5927\u8d5b\u6765\u68c0\u9a8c\u81ea\u5df1\u7684\u5b66\u4e60\u6210\u679c\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u8b6c\u5982\uff1a"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u963f\u91cc\u4e91\u5929\u6c60\u7b97\u6cd5\u5927\u8d5b\uff1a\u963f\u91cc\u5df4\u5df4\u96c6\u56e2\u4e3b\u529e\u7684\u4e00\u7cfb\u5217\u6bd4\u8d5b\uff0c\u6db5\u76d6\u4e86\u8bb8\u591a\u4e0d\u540c\u7684\u9886\u57df\u548c\u95ee\u9898\uff0c\u5982\u63a8\u8350\u7cfb\u7edf\u3001\u56fe\u50cf\u8bc6\u522b\u3001\u9884\u6d4b\u7b49\u3002"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Kaggle\u7ade\u8d5b\uff1a\u4e00\u4e2a\u56fd\u9645\u5e73\u53f0\uff0c\u6211\u4eec\u4e4b\u524d\u706b\u5c71\u4e0b\u7684\u6587\u660e\u4e00\u8bfe\u5c31\u662fKaggle\u3002"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"CCF\u5927\u6570\u636e\u4e0e\u8ba1\u7b97\u667a\u80fd\u5927\u8d5b\uff1a\u7531\u4e2d\u56fd\u8ba1\u7b97\u673a\u5b66\u4f1a\uff08CCF\uff09\u4e3b\u529e\uff0c\u6db5\u76d6\u4e86\u8bb8\u591a\u5b9e\u9645\u95ee\u9898\uff0c\u5982\u4ea4\u901a\u9884\u6d4b\u3001\u793e\u4ea4\u7f51\u7edc\u5206\u6790\u7b49\u3002"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u53c2\u52a0\u7b97\u6cd5\u5927\u8d5b\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u66f4\u597d\u5730\u7406\u89e3\u673a\u5668\u5b66\u4e60\u7684\u5e94\u7528\uff0c\u83b7\u53d6\u4e00\u4e9b\u5b9e\u9645\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u63d0\u9ad8\u81ea\u5df1\u7684\u7f16\u7a0b\u80fd\u529b\u548c\u6570\u636e\u5206\u6790\u80fd\u529b\u3002\u53e6\u5916\uff0c\u8fd9\u4e9b\u7b97\u6cd5\u5927\u8d5b\u901a\u5e38\u4f1a\u63d0\u4f9b\u5927\u91cf\u7684\u6570\u636e\u96c6\u548c\u8bc4\u6d4b\u6807\u51c6\uff0c\u6211\u4eec\u9700\u8981\u6839\u636e\u6570\u636e\u96c6\u8bad\u7ec3\u6a21\u578b\uff0c\u5e76\u63d0\u4ea4\u9884\u6d4b\u7ed3\u679c\uff0c\u6700\u7ec8\u6839\u636e\u8bc4\u6d4b\u6807\u51c6\u6765\u8bc4\u4ef7\u6a21\u578b\u7684\u6027\u80fd\u3002"}),"\n",(0,i.jsx)(e.admonition,{type:"tip",children:(0,i.jsx)(e.p,{children:"\u672c\u9879\u76ee\u4ec5\u8bc4\u4ef7\u5de5\u7a0b\u80fd\u529b\uff0c\u5373\u9879\u76ee\u5b8c\u6210\u5ea6\u3002"})}),"\n",(0,i.jsx)(e.p,{children:"\u4ee5\u65e5\u5e38\u4e2d\u4ea4\u901a\u8fdd\u6cd5\u4e3a\u4f8b\uff0c\u4ea4\u7ba1\u5728\u8def\u53e3\u8bbe\u6709\u81ea\u52a8\u6293\u62cd\u7cfb\u7edf\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u8fd9\u4e2a\u7cfb\u7edf\u5229\u7528\u56fe\u7247\u7684\u76f8\u4f3c\u6027\u6bd4\u8f83\uff0c\u5982\u679c\u53d1\u73b0\u6709\u8f66\u8f86\u95ef\u7ea2\u706f\uff0c\u6216\u8005\u8fdd\u6cd5\u505c\u8f66\uff0c\u5c31\u4f1a\u81ea\u52a8\u62cd\u6444\u8f66\u8f86\u7684\u7167\u7247\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u540c\u65f6\u8bb0\u5f55\u65f6\u95f4\u3001\u6444\u50cf\u5934\u4f4d\u7f6e\u7b49\u4fe1\u606f\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u7cfb\u7edf\u8bc6\u522b\u8f66\u724c\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u7136\u540e\u901a\u8fc7\u8f66\u724c\u53f7\u7801\u5728\u4fe1\u606f\u5e93\u91cc\u83b7\u53d6\u8f66\u4e3b\u7684\u53f7\u7801\uff0c\u5e76\u81ea\u52a8\u53d1\u9001\u77ed\u4fe1\u3002\uff08\u5982\u679c\u6211\u4eec\u81ea\u5df1\u9700\u8981\u5b8c\u6574\u7684\u6a21\u62df\u6574\u4e2a\u6d41\u7a0b\uff0c\u53ef\u4ee5\u6539\u6210\u7535\u5b50\u90ae\u7bb1\uff09"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u3010\u4ea4\u7ba1\u901a\u77e5\u3011\u5c0a\u656c\u7684XXX\uff0c\u60a8\u597d\uff0c\u60a8\u7684\u8f66\u8f86\u5728XX\u70b9XX\u5206XXX\u8def\u53e3\u8fdd\u89c4\uff0c\u8bf7XXXX,\u8fdd\u6cd5\u7167\u7247\u8bf7\u70b9\u51fbXXXX\uff0c\u7533\u8bc9\u8bf7\u70b9\u51fbXXX\u3002\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u8fd9\u4e2a\u6d41\u7a0b\u975e\u5e38\u6e05\u6670\uff0c\u8f66\u724c\u8bc6\u522b\u662f\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u73af\u8282\u3002"}),"\n",(0,i.jsx)(e.h2,{id:"\u641c\u7d22\u6570\u636e\u96c6",children:"\u641c\u7d22\u6570\u636e\u96c6"}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u4eec\u4ece\u4ee5\u4e0a\u7684\u7b97\u6cd5\u5927\u8d5b\u4e2d\u9009\u62e9\u4e00\u4e2a\u6570\u636e\u96c6\uff0c\u7136\u540e\u901a\u8fc7\u6570\u636e\u96c6\u6765\u8bad\u7ec3\u6a21\u578b\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u8fd9\u91cc\u4ee5\u4e0b\u9762\u8fd9\u4e2a\u6570\u636e\u96c6\uff08\u7ea6200MB\uff09\u4e3a\u4f8b\uff1a"}),"\n",(0,i.jsxs)(e.p,{children:["\u4e0b\u8f7d\u65b9\u5f0f1\uff08\u7fa4\u6656\uff09\uff1a",(0,i.jsx)(e.code,{children:"https://gofile.me/7fmxe/asNF1hX5A"}),"\u5bc6\u7801\uff1a",(0,i.jsx)(e.code,{children:"kjzx"})]}),"\n",(0,i.jsxs)(e.p,{children:["\u4e0b\u8f7d\u65b9\u5f0f2\uff08\u963f\u91cc\u4e91\u5929\u6c60\uff09\uff1a",(0,i.jsx)(e.a,{href:"https://tianchi.aliyun.com/dataset/90055",children:"https://tianchi.aliyun.com/dataset/90055"})]}),"\n",(0,i.jsxs)(e.p,{children:["\u4e0b\u8f7d\u65b9\u5f0f3\uff08Kaggle\uff09\uff1a",(0,i.jsx)(e.a,{href:"https://www.kaggle.com/datasets/andrewmvd/car-plate-detection/data",children:"https://www.kaggle.com/datasets/andrewmvd/car-plate-detection/data"})]}),"\n",(0,i.jsx)(e.h2,{id:"\u89c2\u5bdf\u6570\u636e\u96c6",children:"\u89c2\u5bdf\u6570\u636e\u96c6"}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u4eec\u628a\u6570\u636e\u96c6\u4e0b\u8f7d\u4e0b\u6765\uff0c\u7b80\u5355\u7684\u7814\u7a76\u4e00\u4e0b\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u53d1\u73b0\u91cc\u9762\u67092\u4e2a\u6587\u4ef6\u5939\uff0c\u4e00\u4e2a\u662fimages\uff08\u56fe\u50cf\uff09\uff0c\u53e6\u4e00\u4e2a\u662fannotations\uff08\u6ce8\u91ca\uff09"}),"\n",(0,i.jsxs)(e.p,{children:["\u901a\u8fc7\u89c2\u5bdf\u6211\u4eec\u53ef\u4ee5\u8f7b\u677e\u53d1\u73b0annotations\u4e2d\u7684",(0,i.jsx)(e.code,{children:"\u6587\u4ef6\u540d.xml"}),"\u548cimages\u4e2d\u7684",(0,i.jsx)(e.code,{children:"\u6587\u4ef6\u540d.png"}),"\u662f\u4e00\u4e00\u5bf9\u5e94\u7684\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:["\u5176\u4e2d",(0,i.jsx)(e.code,{children:"\u6587\u4ef6\u540d.xml"}),"\u4e2d\u5305\u542b\u4e86\u8f66\u724c\u7684\u4f4d\u7f6e\u4fe1\u606f\uff0c\u5982\u4e0b\uff1a"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-xml",children:"<annotation>\n    <folder>\u56fe\u7247</folder>\n    <filename>Cars0.png</filename>\n    <size>\n        <width>500</width>\n        <height>268</height>\n        <depth>3</depth>\n    </size>\n    <segmented>0</segmented>\n    <object>\n        <name>licence</name>\n        <pose>\u672a\u6307\u5b9a</pose>\n        <truncated>0</truncated>\n        <occluded>0</occluded>\n        <difficult>0</difficult>\n        <bndbox>\n            <xmin>226</xmin>\n            <ymin>125</ymin>\n            <xmax>419</xmax>\n            <ymax>173</ymax>\n        </bndbox>\n    </object>\n</annotation>\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u901a\u8fc7\u89c2\u5bdf\u53ef\u4ee5\u53d1\u73b0\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u89e3\u6790",(0,i.jsx)(e.code,{children:"\u6587\u4ef6\u540d.xml"}),"\u6587\u4ef6\uff0c\u901a\u8fc7\u4e24\u70b9\u5b9a\u4f4d\u83b7\u53d6\u8f66\u724c\u7684\u4f4d\u7f6e\u4fe1\u606f\uff0c\u7136\u540e\u901a\u8fc7",(0,i.jsx)(e.code,{children:"\u6587\u4ef6\u540d.png"}),"\u6587\u4ef6\uff0c\u83b7\u53d6\u8f66\u724c\u7684\u56fe\u50cf\u4fe1\u606f\u3002"]}),"\n",(0,i.jsx)(e.admonition,{type:"tip",children:(0,i.jsxs)(e.p,{children:["\u5982\u679c\u8fd9\u4e2a\u6570\u636e\u96c6\u6ca1\u6709\u6807\u6ce8\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5224\u65ad\u56fe\u7247\u4e2d\u77e9\u5f62\u7684\u4f4d\u7f6e\uff0c\u6765\u83b7\u53d6\u8f66\u724c\u7684\u4f4d\u7f6e\u4fe1\u606f\u3002\u5177\u4f53\u65b9\u6cd5\u4e0e",(0,i.jsx)(e.code,{children:"\u706b\u5c71\u4e0b\u7684\u6587\u660e"}),"\u4e00\u8bfe\u4e2d\u7684\u65b9\u6cd5\u7c7b\u4f3c\u3002"]})}),"\n",(0,i.jsx)(e.h2,{id:"\u5904\u7406\u6570\u636e\u96c6",children:"\u5904\u7406\u6570\u636e\u96c6"}),"\n",(0,i.jsx)(e.p,{children:"\u6839\u636e\u4e0b\u65b9\u4ee3\u7801\u63d0\u793a\u8865\u5168\uff0c\u672a\u63d0\u53ca\u5185\u5bb9\u5df2\u7ecf\u8865\u5168\uff0c\u9700\u8981\u8865\u5168\u7684\u5185\u5bb9\u5df2\u7ecf\u6807\u6ce8\u3002"}),"\n",(0,i.jsxs)(e.p,{children:["\u6b63\u786e\u5904\u7406\u4e4b\u540e\u7684\u4ee3\u7801\uff0c\u53ef\u4ee5\u5c06\u6574\u4e2a\u8f66\u724c\u7684\u56fe\u50cf\u88c1\u526a\u51fa\u6765\uff0c\u4fdd\u5b58\u5230",(0,i.jsx)(e.code,{children:"cropped_images"}),"\u76ee\u5f55\u4e0b\u3002"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",metastring:'title="split_images.py"',children:"# \u5bfc\u5165xml.etree.ElementTree\u5e93\uff0c\u7528\u4e8e\u5904\u7406XML\u6587\u4ef6\nimport xml.etree.ElementTree as ET\n# \u5bfc\u5165os\u5e93\uff0c\u7528\u4e8e\u5904\u7406\u6587\u4ef6\u548c\u76ee\u5f55\nimport os\n# \u5bfc\u5165PIL\u5e93\u7684Image\u6a21\u5757\uff0c\u7528\u4e8e\u5904\u7406\u56fe\u50cf\nfrom PIL import Image\n\n# \u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570parse_xml\uff0c\u53c2\u6570\u4e3axml\u6587\u4ef6\u7684\u8def\u5f84\ndef parse_xml(xml_file) -> dict:\n    # \u89e3\u6790xml\u6587\u4ef6\uff0c\u83b7\u53d6ElementTree\u5bf9\u8c61\n    tree = ET.parse(xml_file)\n    # \u83b7\u53d6xml\u6587\u4ef6\u7684\u6839\u5143\u7d20\n    root = tree.getroot()\n\n    # \u521d\u59cb\u5316\u4e00\u4e2a\u7a7a\u5b57\u5178\u6765\u5b58\u50a8\u6570\u636e\n    data = {}\n    # \u4ecexml\u6587\u4ef6\u4e2d\u83b7\u53d6\u5404\u4e2a\u5143\u7d20\u7684\u503c\uff0c\u5e76\u5b58\u50a8\u5230\u5b57\u5178\u4e2d\n    data['folder'] = root.find('folder').text\n    data['filename'] = root.find('filename').text\n    data['width'] = root.find('size/width').text\n    data['height'] = root.find('size/height').text\n    data['depth'] = root.find('size/depth').text\n    data['segmented'] = root.find('segmented').text\n\n    # \u521d\u59cb\u5316\u4e00\u4e2a\u7a7a\u5217\u8868\u6765\u5b58\u50a8\u6240\u6709\u7684\u5bf9\u8c61\u6570\u636e\n    objects = []\n    # \u904d\u5386xml\u6587\u4ef6\u4e2d\u7684\u6240\u6709'object'\u5143\u7d20\n    for obj in root.findall('object'):\n        # \u521d\u59cb\u5316\u4e00\u4e2a\u7a7a\u5b57\u5178\u6765\u5b58\u50a8\u5f53\u524d\u5bf9\u8c61\u7684\u6570\u636e\n        obj_data = {}\n        # \u4ece'object'\u5143\u7d20\u4e2d\u83b7\u53d6\u5404\u4e2a\u5b50\u5143\u7d20\u7684\u503c\uff0c\u5e76\u5b58\u50a8\u5230\u5b57\u5178\u4e2d\n        obj_data['name'] = obj.find('name').text\n        obj_data['pose'] = obj.find('pose').text\n        obj_data['truncated'] = obj.find('truncated').text\n        obj_data['occluded'] = obj.find('occluded').text\n        obj_data['difficult'] = obj.find('difficult').text\n        obj_data['xmin'] = obj.find('bndbox/xmin').text\n        obj_data['ymin'] = obj.find('bndbox/ymin').text\n        obj_data['xmax'] = obj.find('bndbox/xmax').text\n        obj_data['ymax'] = obj.find('bndbox/ymax').text\n        # \u5c06\u5f53\u524d\u5bf9\u8c61\u7684\u6570\u636e\u6dfb\u52a0\u5230\u5bf9\u8c61\u5217\u8868\u4e2d\n        objects.append(obj_data)\n\n    # \u5c06\u5bf9\u8c61\u5217\u8868\u6dfb\u52a0\u5230\u6570\u636e\u5b57\u5178\u4e2d\n    data['objects'] = objects\n\n    # \u8fd4\u56de\u6570\u636e\u5b57\u5178\n    return data\n\n# \u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570get_coordinates\uff0c\u53c2\u6570\u4e3a\u4eceparse_xml\u51fd\u6570\u8fd4\u56de\u7684\u6570\u636e\u5b57\u5178\ndef get_coordinates(data:dict) -> tuple:\n    # \u83b7\u53d6\u6570\u636e\u5b57\u5178\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5bf9\u8c61\n    \n    # \u8fd4\u56de\u5bf9\u8c61\u7684xmin, ymin, xmax, ymax\u503c\uff08\u8f6c\u6362\u4e3a\u6574\u6570\uff09\n    \n\n# \u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570crop_image\uff0c\u53c2\u6570\u4e3a\u56fe\u7247\u8def\u5f84\u3001\u5750\u6807\u548c\u65b0\u56fe\u7247\u8def\u5f84\ndef crop_image(image_path:str, coordinates:tuple,new_image_path:str) -> None:\n    # \u6253\u5f00\u56fe\u7247 \u63d0\u793a .open\n\n    # \u6839\u636e\u7ed9\u5b9a\u7684\u5750\u6807\u88c1\u526a\u56fe\u7247\n    cropped_img = img.crop(coordinates)\n    # \u4fdd\u5b58\u88c1\u526a\u540e\u7684\u56fe\u7247\u5230\u65b0\u7684\u8def\u5f84 \u63d0\u793a- .save\n\ndef split_bndbox():\n    # \u904d\u5386'annotations'\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\n    for annotations in os.listdir('annotations'):\n        # \u6784\u5efaannotations\u6587\u4ef6\u7684\u5b8c\u6574\u8def\u5f84\n\n        # \u6784\u5efa\u5bf9\u5e94\u7684\u56fe\u7247\u6587\u4ef6\u8def\u5f84\n\n        # \u6784\u5efa\u88c1\u526a\u540e\u7684\u65b0\u56fe\u7247\u8def\u5f84\n\n        # \u5982\u679c'cropped_images'\u76ee\u5f55\u4e0d\u5b58\u5728\uff0c\u5219\u521b\u5efa\n\n        # \u89e3\u6790annotations\u6587\u4ef6\uff0c\u83b7\u53d6\u6570\u636e\n\n        # \u4ece\u6570\u636e\u4e2d\u83b7\u53d6\u5750\u6807\n        coordinates = get_coordinates(data)\n    \n        # \u6839\u636e\u5750\u6807\u88c1\u526a\u56fe\u7247\uff0c\u5e76\u4fdd\u5b58\u5230\u65b0\u7684\u8def\u5f84\n        crop_image(image_path, coordinates , new_image_path)\n\nif __name__ == '__main__':\n    split_bndbox()\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u8f66\u724c\u4e8c\u6b21\u5206\u5272\u4e0e\u4eba\u5de5\u6807\u6ce8",children:"\u8f66\u724c\u4e8c\u6b21\u5206\u5272\u4e0e\u4eba\u5de5\u6807\u6ce8"}),"\n",(0,i.jsx)(e.p,{children:"\u901a\u8fc7\u4eba\u773c\u7684\u89c2\u5bdf\uff0c\u5bf9\u8f66\u724c\u8fdb\u884c\u6807\u6ce8\uff0c\u4f8b\u5982"}),"\n",(0,i.jsxs)(e.p,{children:["\u6b64\u8fc7\u7a0b\u4f60\u4e5f\u53ef\u4ee5\u5220\u9664\u4e00\u4e9b\u4f60\u8ba4\u4e3a\u4e0d\u4f73\u7684\u56fe\u7247\uff0c\u8b6c\u5982\uff1a",(0,i.jsx)(e.code,{children:"Cars129"})," \u4ee5\u63d0\u9ad8\u6a21\u578b\u7684\u8bad\u7ec3\u6548\u679c\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:["\u6211\u4eec\u53ef\u4ee5\u628a\u6570\u636e\u62c6\u89e3\u5e76\u5206\u7c7b\u4e3a\u4e00\u4e2a\u4e2a\u72ec\u7acb\u7684\u8f66\u724c\u6570\u5b57\u56fe\u7247\uff0c\u4f8b\u5982Cars432\u5e94\u8be5\u88ab\u6807\u6ce8\u4e3a",(0,i.jsx)(e.code,{children:"DL49AK49"}),"\uff0c\u62c6\u5206\u4e3a8\u4e2a\u72ec\u7acb\u7684\u5c0f\u56fe\u7247\uff0c\u5206\u522b\u4e3a",(0,i.jsx)(e.code,{children:"D/1.png"}),"\u3001",(0,i.jsx)(e.code,{children:"L/1.png"}),"\u3001",(0,i.jsx)(e.code,{children:"4/1.png"}),"\u3001",(0,i.jsx)(e.code,{children:"9/1.png"}),"\u3001",(0,i.jsx)(e.code,{children:"A/1.png"}),"\u3001",(0,i.jsx)(e.code,{children:"K/1.png"}),"\u3001",(0,i.jsx)(e.code,{children:"4/2.png"}),"\u3001",(0,i.jsx)(e.code,{children:"9/2.png"}),"\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:["\u8868\u793a\u5b57\u6bcdD\u7684\u56fe\u7247\u4fdd\u5b58\u5728",(0,i.jsx)(e.code,{children:"D"}),"\u6587\u4ef6\u5939\u4e0b\uff0c\u8868\u793a\u6570\u5b571\u7684\u56fe\u7247\u4fdd\u5b58\u5728",(0,i.jsx)(e.code,{children:"1"}),"\u6587\u4ef6\u5939\u4e0b\u3002"]}),"\n",(0,i.jsx)(e.p,{children:"\u5206\u7c7b\u5b8c\u6210\u4e4b\u540e\u4e8c\u503c\u5316\uff08\u6700\u540e\u4e8c\u503c\u5316\u662f\u56e0\u4e3a\u6709\u4e9b\u5b57\u6bcd\u6216\u6570\u5b57\u4e8c\u503c\u5316\u540e\u96be\u4ee5\u5206\u8fa8\uff09"}),"\n",(0,i.jsx)(e.p,{children:"\u8fd9\u6837\u62c6\u89e3\u5b8c400+\u5f20\u7167\u7247\u540e\uff0c\u5047\u8bbe\u6bcf\u5f20\u7167\u7247\u67096\u4e2a\u5c0f\u56fe\u7247\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u67092400+\u5f20\u5c0f\u56fe\u7247\u3002\u5e73\u5747\u5206\u5e03\u572826\u4e2a\u5b57\u6bcd\u548c10\u4e2a\u6570\u5b57\u4e0a\uff0c\u6bcf\u4e2a\u5b57\u6bcd\u548c\u6570\u5b57\u5927\u6982\u670980\u5f20\u56fe\u7247\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u901a\u8fc7\u4eba\u5de5\u6807\u6ce8\uff0c\u68c0\u67e5\u8fd9\u4e9b\u5c0f\u56fe\u7247\u662f\u5426\u6b63\u786e\uff0c\u5982\u679c\u4e0d\u6b63\u786e\uff0c\u53ef\u4ee5\u79fb\u52a8\u5230\u5bf9\u5e94\u7684\u6587\u4ef6\u5939\uff0c\u6216\u8005\u5220\u9664\u9519\u8bef\u7684\u56fe\u7247\u3002"}),"\n",(0,i.jsx)(e.p,{children:"\u53e6\u5916\u6211\u4eec\u4eceimages\u6587\u4ef6\u5939\u4e2d\uff0c\u9009\u51e0\u5f20\u56fe\u7247\uff0c\u6807\u6ce8\u540e\u653e\u5728test\u6587\u4ef6\u5939\u4e0b\uff0c\u7528\u4e8e\u6d4b\u8bd5\u6a21\u578b\u7684\u51c6\u786e\u5ea6\u3002"}),"\n",(0,i.jsxs)(e.admonition,{type:"tip",children:[(0,i.jsx)(e.p,{children:"\u8fd9\u4e2a\u8fc7\u7a0b\u975e\u5e38\u91cd\u8981\uff0c\u76f4\u63a5\u5f71\u54cd\u6a21\u578b\u7684\u51c6\u786e\u5ea6\u3002"}),(0,i.jsx)(e.p,{children:"\u8bfe\u540e\u6709\u65f6\u95f4\u53ef\u4ee5\u5c0f\u7ec4\u5408\u4f5c\uff0c\u4f53\u9a8c\u4e0b\u8fd9\u4e2a\u8fc7\u7a0b\uff0c\u628a\u6240\u6709\u56fe\u7247\u5168\u90e8\u62c6\u89e3\u5b8c\u540e\u7684\u6a21\u578b\u51c6\u786e\u5ea6\u5e94\u8be5\u4f1a\u6709\u4e00\u4e2a\u8f83\u5927\u7684\u63d0\u5347\u3002"}),(0,i.jsx)(e.p,{children:(0,i.jsx)(e.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:t(1637).A+"",children:"\u90e8\u5206\u62c6\u89e3\u597d\u7684\u56fe\u7247"})})]}),"\n",(0,i.jsx)(e.h2,{id:"\u8bad\u7ec3\u6a21\u578b",children:"\u8bad\u7ec3\u6a21\u578b"}),"\n",(0,i.jsx)(e.p,{children:"\u89e3\u538b\u540e\uff0c\u6211\u4eec\u5f53\u524d\u7684\u6587\u4ef6\u5939\u5e94\u8be5\u662f\u8fd9\u6837\u7684\uff0c"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u251c\u2500\u2500 archive\n\u2502   \u251c\u2500\u2500 class_0\n\u2502   \u2502   \u251c\u2500\u2500 0_1.png\n\u2502   \u2502   \u251c\u2500\u2500 0_2.png\n\u2502   \u2502   \u251c\u2500\u2500 ...\n\u2502   \u251c\u2500\u2500 class_1\n\u2502   \u2502   \u251c\u2500\u2500 1_1.png\n\u2502   \u2502   \u251c\u2500\u2500 1_2.png\n\u2502   \u2502   \u251c\u2500\u2500 ...\n\u2502   \u251c\u2500\u2500 ...\n\u251c\u2500\u2500 annotations\n\u2502   \u251c\u2500\u2500 Cars0.xml\n\u251c\u2500\u2500 test\n\u251c\u2500\u2500 split_images.py\n\u251c\u2500\u2500 train_model.py\n\u251c\u2500\u2500 predict.py\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u73b0\u5728\u5176\u4ed6\u6587\u4ef6\u5939\u90fd\u662f",(0,i.jsx)(e.code,{children:"\u8fc7\u7a0b\u6587\u4ef6"}),"\uff0carchive\u6587\u4ef6\u5939\u662f",(0,i.jsx)(e.code,{children:"\u7ed3\u679c\u6587\u4ef6"}),"\uff0c\u91cc\u9762\u5b58\u653e\u4e86\u6240\u6709\u5206\u7c7b\u597d\u7684\u8f66\u724c\u56fe\u7247\u3002"]}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4e0b\u65b9\u4ee3\u7801\u6a21\u677f\u8bad\u7ec3\u6a21\u578b\uff0c\u81f3\u5c11\u5b8c\u6210\u4e00\u79cd\u3002"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",metastring:'title="train_model.py"',children:"import split_images\n\ndef model(model_name:str,img_path:str) -> str:\n    if model_name == 'model1':\n\n        return '\u8bc6\u522b\u7ed3\u679c1'\n    elif model_name == 'model2':\n       \n        return '\u8bc6\u522b\u7ed3\u679c2'\n    elif model_name == 'model3':\n \n        return '\u8bc6\u522b\u7ed3\u679c3'\n"})}),"\n",(0,i.jsx)(e.p,{children:"sklearn\u90e8\u5206\u7684\u53c2\u8003\u4ee3\u7801\uff08\u9700\u8981\u5c01\u88c5\u4e3a\u51fd\u6570\uff09\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from sklearn import datasets\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.neighbors import KNeighborsClassifier\nfrom sklearn.metrics import accuracy_score\n\n# \u52a0\u8f7d\u6570\u636e\u96c6\ndigits = datasets.load_digits()\n\n# \u6570\u636e\u9884\u5904\u7406\nX = digits.data\ny = digits.target\n\n# \u5206\u5272\u6570\u636e\u96c6\u4e3a\u8bad\u7ec3\u96c6\u548c\u6d4b\u8bd5\u96c6\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)\n\n# \u6570\u636e\u6807\u51c6\u5316\nsc = StandardScaler()\nX_train = sc.fit_transform(X_train)\nX_test = sc.transform(X_test)\n\n# \u521b\u5efa KNN \u5206\u7c7b\u5668\nknn = KNeighborsClassifier(n_neighbors=3)\n\n# \u8bad\u7ec3\u6a21\u578b\nknn.fit(X_train, y_train)\n\n# \u9884\u6d4b\u6d4b\u8bd5\u96c6\u7ed3\u679c\ny_pred = knn.predict(X_test)\n\n# \u8ba1\u7b97\u9884\u6d4b\u51c6\u786e\u7387\naccuracy = accuracy_score(y_test, y_pred)\n\nprint('Accuracy: ' + str(accuracy))\n\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u6548\u679c\u5c55\u793a",children:"\u6548\u679c\u5c55\u793a"}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4e0b\u65b9\u4ee3\u7801\uff0c\u5c06\u6a21\u578b\u5e94\u7528\u5230\u65b0\u7684\u56fe\u7247\u4e0a\u3002(\u56fa\u5b9a\u683c\u5f0f\uff0c\u65e0\u9700\u4fee\u6539)"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",metastring:'title="predict.py"',children:"import train_model\nimport os\n\nfor test_img in os.listdir('test'):\n    test_img_path = os.path.join('test',test_img)\n    print(test_img,':',end='')\n    for i in ['model1','model2','model3']:\n        model = train_model.model(i,test_img_path)\n        print(model,'|',end='')\n    print()\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u8fd0\u884c\u7ed3\u679c\u5e94\u8be5\u662f\u8fd9\u6837\u7684\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"DZ17YXR.png :\u8bc6\u522b\u7ed3\u679c1 |\u8bc6\u522b\u7ed3\u679c2 |\u8bc6\u522b\u7ed3\u679c3 |\nPGMN112.png :\u8bc6\u522b\u7ed3\u679c1 |\u8bc6\u522b\u7ed3\u679c2 |\u8bc6\u522b\u7ed3\u679c3 |\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u7531\u4e8e\u672c\u9879\u76ee\u4fa7\u91cd\u8003\u5bdf\u5de5\u7a0b\u80fd\u529b\uff0c\u56e0\u4e3a\u4e0d\u6dfb\u52a0\u51c6\u786e\u5ea6\u5224\u65ad\uff0c\u6240\u4ee5\u53ea\u8981\u80fd\u591f\u8fd0\u884c\u5373\u53ef\u3002"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:t(7687).A+"",children:"\u53c2\u8003\u7b54\u6848"})})]})}function p(n={}){const{wrapper:e}={...(0,d.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(l,{...n})}):l(n)}},1637:(n,e,t)=>{t.d(e,{A:()=>i});const i=t.p+"assets/files/archive-21aed2d096ec627ad0481cb7089cfd8a.zip"},7687:(n,e,t)=>{t.d(e,{A:()=>i});const i=t.p+"assets/files/\u8bad\u7ec3-eee7aeebc2773c54e1c2b4531133536b.zip"},8453:(n,e,t)=>{t.d(e,{R:()=>s,x:()=>a});var i=t(6540);const d={},r=i.createContext(d);function s(n){const e=i.useContext(r);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(d):n.components||d:s(n.components),i.createElement(r.Provider,{value:e},n.children)}}}]);