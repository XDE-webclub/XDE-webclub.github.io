<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-project docs-version-current docs-doc-page docs-doc-id-part2/提升代码工程能力" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">提升代码工程能力 | xde-web</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://xde-webclub.github.io/img/github.svg"><meta data-rh="true" name="twitter:image" content="https://xde-webclub.github.io/img/github.svg"><meta data-rh="true" property="og:url" content="https://xde-webclub.github.io/project/part2/提升代码工程能力"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-project-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-project-current"><meta data-rh="true" property="og:title" content="提升代码工程能力 | xde-web"><meta data-rh="true" name="description" content="这节课我们继续学习如何使用框架完成网络社模型库网站的开发。"><meta data-rh="true" property="og:description" content="这节课我们继续学习如何使用框架完成网络社模型库网站的开发。"><link data-rh="true" rel="icon" href="/img/github.svg"><link data-rh="true" rel="canonical" href="https://xde-webclub.github.io/project/part2/提升代码工程能力"><link data-rh="true" rel="alternate" href="https://xde-webclub.github.io/project/part2/提升代码工程能力" hreflang="en"><link data-rh="true" rel="alternate" href="https://xde-webclub.github.io/project/part2/提升代码工程能力" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.49578218.css">
<script src="/assets/js/runtime~main.bff24e8e.js" defer="defer"></script>
<script src="/assets/js/main.e928f8d3.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">首页</b></a><a class="navbar__item navbar__link" href="/docs">Python</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/project">Project</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><b>首页</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/project/">part1</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/project/part2/提升代码工程能力">part2</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/project/part2/提升代码工程能力">提升代码工程能力</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/project/part2/文生图模型的部署">文生图模型的部署</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/project/part2/项目协作">项目协作</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">part2</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">提升代码工程能力</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>提升代码工程能力</h1></header><p>这节课我们继续学习如何使用框架完成网络社模型库网站的开发。</p>
<p>代码的工程能力包括：  代码简洁可读、模块拆分清晰合理。主要考察对函数、代码结构的划分。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="首页">首页<a href="#首页" class="hash-link" aria-label="Direct link to 首页" title="Direct link to 首页">​</a></h2>
<p>下面的代码是目标效果，每个超链接都具有相同的样式，简洁美观，请你思考如何用<strong>最少的代码</strong>完成首页的开发。</p>
<p>参考效果</p>
<p><img decoding="async" loading="lazy" alt="1715915757820" src="data:image/png;base64,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" width="449" height="316" class="img_ev3q"></p>
<p>应用效果
<img decoding="async" loading="lazy" alt="1715915606264" src="/assets/images/1715915606264-0f0c3bda44b19d19bbd69aef49fdc0d4.png" width="573" height="261" class="img_ev3q"></p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>参考</summary><div><div class="collapsibleContent_i85q"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">my_app_name\my_app_name\index_page.py</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> reflex </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> rx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">links</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">text</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> href</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> rx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">center</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">link</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">text</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> href</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">href</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        border_radius</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;15px&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        border_width</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;thick&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        width</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;100%&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">index</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> rx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Component</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> rx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">center</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            rx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">vstack</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                rx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">heading</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;欢迎使用 网络社模型库!&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">padding</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;10px&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                links</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;鸢尾花模型识别&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> href</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;/knn&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                links</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;文生图模型体验&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> href</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;/aiimg&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                links</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;实时训练的分类器&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> href</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;/knntrain&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                links</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;连续对话模型体验&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> href</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;/chat&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="调用摄像头的实时训练的分类器">调用摄像头的实时训练的分类器<a href="#调用摄像头的实时训练的分类器" class="hash-link" aria-label="Direct link to 调用摄像头的实时训练的分类器" title="Direct link to 调用摄像头的实时训练的分类器">​</a></h2>
<p>现在我们的目标是，当用户打开网页时，自动调用摄像头，通过用户在网页上的点击实时训练模型并显示效果。</p>
<p>使用Python语言比较复杂，需要使用额外的模块Python-JS模块，转换之后再和当前模块结合，且调用异常没有很多文档可以查询。</p>
<p>而在网页开发的JS语言中，调用摄像头有内置的浏览器接口，目标的效果是这样：<a href="https://xde-webclub.github.io/tensorflow.html" target="_blank" rel="noopener noreferrer">tensorflow.html</a></p>
<p>还记得reflex模块的原理吗？把Python代码转化为HTML、CSS、JS。因此它一定可以直接使用原生的HTML、CSS、JS</p>
<p>参考下面的代码，将<code>tensorflow.html</code>迁移到模型库中。
<img decoding="async" loading="lazy" alt="1715917770916" src="/assets/images/1715917770916-f6720f7532638a97d92c5ed106230339.png" width="641" height="527" class="img_ev3q"></p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>参考</summary><div><div class="collapsibleContent_i85q"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">my_app_name\my_app_name\knntrain_page.py</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> reflex </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> rx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">knntrain</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> rx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">html</span><span class="token punctuation" style="color:#393A34">(</span><span class="token triple-quoted-string string" style="color:#e3116c">&#x27;&#x27;&#x27;&lt;html&gt;&lt;head&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    &lt;!-- Load the latest version of TensorFlow.js --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/@tensorflow/tfjs&quot;&gt;&lt;/script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/@tensorflow-models/mobilenet&quot;&gt;&lt;/script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/@tensorflow-models/knn-classifier&quot;&gt;&lt;/script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&lt;/head&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&lt;body&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    &lt;div style=&quot;margin: 0 auto; text-align: center;&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        &lt;div id=&quot;console&quot;&gt;&lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        &lt;!-- Add an image that we will use to test --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        &lt;video style=&quot;margin: 0 auto; text-align: center;&quot; autoplay=&quot;&quot; playsinline=&quot;&quot; muted=&quot;&quot; id=&quot;webcam&quot; width=&quot;224&quot; height=&quot;224&quot;&gt;&lt;/video&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        &lt;br&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        &lt;button id=&quot;class-a&quot;&gt;Add A&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        &lt;button id=&quot;class-b&quot;&gt;Add B&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        &lt;button id=&quot;class-c&quot;&gt;Add C&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        &lt;!-- Load index.js after the content of the page --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        &lt;p&gt;一个实时的调用摄像头的KNN分类器&lt;/p&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        &lt;p&gt;请在联网环境下用先进的浏览器打开&lt;/p&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        &lt;p&gt;1.等待模型加载（加载完成后会提示使用摄像头）&lt;/p&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        &lt;p&gt;2.点击Add A则获取当前摄像头截图加入A训练集&lt;/p&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        &lt;p&gt;3.以此类推&lt;/p&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        &lt;p&gt;4.观察屏幕输出的预测结果&lt;/p&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        &lt;p&gt;底层由tensorflow编写&lt;/p&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    &lt;script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        const classifier = knnClassifier.create();</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        const webcamElement = document.getElementById(&#x27;webcam&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        async function app() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">            console.log(&#x27;Loading mobilenet..&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">            // Load the model.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">            net = await mobilenet.load();</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">            console.log(&#x27;Successfully loaded model&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">            // Create an object from Tensorflow.js data API which could capture image</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">            // from the web camera as Tensor.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">            const webcam = await tf.data.webcam(webcamElement);</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">            // Reads an image from the webcam and associates it with a specific class</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">            // index.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">            const addExample = async classId =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                // Capture an image from the web camera.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                const img = await webcam.capture();</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                // Get the intermediate activation of MobileNet &#x27;conv_preds&#x27; and pass that</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                // to the KNN classifier.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                const activation = net.infer(img, true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                // Pass the intermediate activation to the classifier.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                classifier.addExample(activation, classId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                // Dispose the tensor to release the memory.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                img.dispose();</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">            };</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">            // When clicking a button, add an example for that class.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">            document.getElementById(&#x27;class-a&#x27;).addEventListener(&#x27;click&#x27;, () =&gt; addExample(0));</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">            document.getElementById(&#x27;class-b&#x27;).addEventListener(&#x27;click&#x27;, () =&gt; addExample(1));</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">            document.getElementById(&#x27;class-c&#x27;).addEventListener(&#x27;click&#x27;, () =&gt; addExample(2));</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">            while (true) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                if (classifier.getNumClasses() &gt; 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                    const img = await webcam.capture();</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                    // Get the activation from mobilenet from the webcam.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                    const activation = net.infer(img, &#x27;conv_preds&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                    // Get the most likely class and confidence from the classifier module.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                    const result = await classifier.predictClass(activation);</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                    const classes = [&#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                    document.getElementById(&#x27;console&#x27;).innerText = `</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    prediction: ${classes[result.label]}\n</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    probability: ${result.confidences[result.label]}</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    `;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                    // Dispose the tensor to release the memory.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                    img.dispose();</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">                await tf.nextFrame();</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        app();</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    &lt;/script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&lt;/body&gt;&lt;/html&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&#x27;&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="连续对话的关键">连续对话的关键<a href="#连续对话的关键" class="hash-link" aria-label="Direct link to 连续对话的关键" title="Direct link to 连续对话的关键">​</a></h2>
<p>最后我们计划做一个连续对话的语言模型。他的结构如下：</p>
<p><img decoding="async" loading="lazy" alt="1715918029185" src="/assets/images/1715918029185-387dff5ef879d1980dd6178903e59928.png" width="731" height="640" class="img_ev3q"></p>
<p>点击发送消息时，未回应完成前。按钮不可再次点击。（简单）</p>
<p>回应的过程中，应该是流式响应的，也就是文本是收到多少，就逐  一显示多少，而不是全部收到再全部显示。（响应处理的概念）</p>
<p>每次发送的请求包含之前的对话记录（对象存储的概念）</p>
<p>用户可以新建对话，切换不同的新建对话时对话的历史记录不同。（类与对象的概念，挑战任务）</p>
<p>思考如何完成你的代码最简洁，考察能力：文档的阅读理解速度</p>
<p>参考资料：</p>
<p>文心一言<a href="https://cloud.baidu.com/doc/WENXINWORKSHOP/s/clntwmv7t" target="_blank" rel="noopener noreferrer">调用接口文档</a></p>
<p>reflex<a href="https://github.com/reflex-dev/reflex-chat" target="_blank" rel="noopener noreferrer">调用openai接口代码</a></p>
<p>你要做的是把调用openai接口代码换成文心一言，但是这并不是简单的复制粘贴，他们之间存在一些不同之处。</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/project/part1/项目实战"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">模拟算法大赛（考核）</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/project/part2/文生图模型的部署"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">文生图模型的部署</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#首页" class="table-of-contents__link toc-highlight">首页</a></li><li><a href="#调用摄像头的实时训练的分类器" class="table-of-contents__link toc-highlight">调用摄像头的实时训练的分类器</a></li><li><a href="#连续对话的关键" class="table-of-contents__link toc-highlight">连续对话的关键</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">控江XDE-web</div></div></div></footer></div>
</body>
</html>